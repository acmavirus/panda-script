# Changelog Panda Script v2.2.1

---

### 1. ğŸ—ï¸ Core Stack: "PHP Extension Manager"

Äá»«ng chá»‰ cÃ i PHP báº£n chuáº©n. CÃ¡c á»©ng dá»¥ng hiá»‡n Ä‘áº¡i thÆ°á»ng yÃªu cáº§u cÃ¡c extension Ä‘áº·c thÃ¹.

* **Gá»£i Ã½:** ThÃªm má»™t menu nhá» Ä‘á»ƒ cÃ i nhanh cÃ¡c PHP Extension thÆ°á»ng dÃ¹ng chá»‰ báº±ng cÃ¡ch tÃ­ch chá»n: `Imagick`, `IonCube`, `Swoole`, `Exif`, `Intl`.
* **Lá»£i Ã­ch:** Developer sáº½ khÃ´ng pháº£i tá»± gÃµ `apt install php-xxx` vÃ  loay hoay tÃ¬m file `.ini` Ä‘á»ƒ kÃ­ch hoáº¡t.

### 2. ğŸŒ Website Management: "Framework-Aware Permission"

Lá»‡nh **Fix Permissions** cá»§a báº¡n ráº¥t hay, nhÆ°ng má»—i framework láº¡i cáº§n quyá»n khÃ¡c nhau.

* **Gá»£i Ã½:** Khi cháº¡y `fix-perm`, script nÃªn há»i (hoáº·c tá»± nháº­n diá»‡n): "ÄÃ¢y lÃ  Laravel hay WordPress?".
* Náº¿u lÃ  **Laravel**, script sáº½ tá»± Ä‘á»™ng set quyá»n ghi (`775`) cho thÆ° má»¥c `storage` vÃ  `bootstrap/cache`.
* Náº¿u lÃ  **WordPress**, script sáº½ khÃ³a cháº·t file `wp-config.php` (quyá»n `400` hoáº·c `440`).


* **Lá»£i Ã­ch:** TÄƒng tá»‘i Ä‘a tÃ­nh báº£o máº­t mÃ  khÃ´ng lÃ m há»ng á»©ng dá»¥ng.

### 3. ğŸ‹ Docker: "Auto-Reverse Proxy Bridge"

Pháº§n lá»›n Dev gáº·p khÃ³ khÄƒn khi cÃ i app báº±ng Docker nhÆ°ng khÃ´ng biáº¿t cáº¥u hÃ¬nh Nginx bÃªn ngoÃ i Ä‘á»ƒ trá» vÃ o.

* **Gá»£i Ã½:** Khi ngÆ°á»i dÃ¹ng cháº¡y má»™t Container má»›i qua Panda, hÃ£y cÃ³ option: "Báº¡n cÃ³ muá»‘n táº¡o Nginx Reverse Proxy cho container nÃ y khÃ´ng?". Náº¿u cÃ³, Panda tá»± táº¡o file config Nginx trá» vÃ o Port cá»§a container Ä‘Ã³.
* **Lá»£i Ã­ch:** Káº¿t ná»‘i tháº¿ giá»›i Docker vÃ  Nginx truyá»n thá»‘ng chá»‰ trong vÃ i giÃ¢y.

### 4. ğŸ›¡ï¸ Security: "IP Whitelist for SSH/Admin"

Báº£o máº­t SSH Port lÃ  tá»‘t, nhÆ°ng váº«n cÃ³ thá»ƒ bá»‹ scan.

* **Gá»£i Ã½:** ThÃªm chá»©c nÄƒng **Panda Guard**. Cho phÃ©p ngÆ°á»i dÃ¹ng lÆ°u IP nhÃ /cÃ´ng ty há» vÃ o whitelist. Chá»‰ nhá»¯ng IP nÃ y má»›i Ä‘Æ°á»£c phÃ©p truy cáº­p SSH hoáº·c cÃ¡c cá»•ng quáº£n trá»‹ (nhÆ° phpMyAdmin).
* **Lá»£i Ã­ch:** Cháº·n Ä‘á»©ng 100% cÃ¡c cuá»™c táº¥n cÃ´ng Brute Force tá»« IP láº¡.

### 5. â˜ï¸ Backup: "Backup Integrity Check"

Ráº¥t nhiá»u ngÆ°á»i cÃ³ file backup nhÆ°ng Ä‘áº¿n lÃºc cáº§n thÃ¬ file bá»‹ há»ng (corrupted).

* **Gá»£i Ã½:** Sau khi nÃ©n backup, script cháº¡y má»™t lá»‡nh kiá»ƒm tra nhanh (`tar -tvf` hoáº·c check mÃ£ MD5/SHA256). Náº¿u file lá»—i, gá»­i cáº£nh bÃ¡o ngay vá» Telegram.
* **Lá»£i Ã­ch:** Äáº£m báº£o báº£n sao lÆ°u luÃ´n á»Ÿ tráº¡ng thÃ¡i "sáºµn sÃ ng cá»©u há»™".

### 6. ğŸ‘¨â€ğŸ’» DevXP: "Domain Alias & Redirect Manager"

* **Gá»£i Ã½:** ThÃªm cÃ´ng cá»¥ quáº£n lÃ½ chuyá»ƒn hÆ°á»›ng (Redirect 301/302) vÃ  Alias domain ngay trong CLI.
* VÃ­ dá»¥: Chuyá»ƒn hÆ°á»›ng `www` sang `non-www` hoáº·c ngÆ°á»£c láº¡i chá»‰ báº±ng 1 lá»‡nh.


* **Lá»£i Ã­ch:** Cá»±c ká»³ há»¯u Ã­ch cho SEO mÃ  khÃ´ng cáº§n Dev pháº£i Ä‘i sá»­a file `.conf` cá»§a Nginx má»™t cÃ¡ch thá»§ cÃ´ng.

### 7. ğŸš¨ Monitoring: "Panda Doctor" (Health Check)

* **Gá»£i Ã½:** Táº¡o má»™t lá»‡nh `panda doctor`. Lá»‡nh nÃ y sáº½ quÃ©t qua toÃ n bá»™ há»‡ thá»‘ng Ä‘á»ƒ tÃ¬m cÃ¡c "Ä‘iá»ƒm yáº¿u":
* á»” cá»©ng Ä‘áº§y > 90%?
* SSL sáº¯p háº¿t háº¡n trong 7 ngÃ y?
* Dá»‹ch vá»¥ nÃ o Ä‘ang chiáº¿m RAM báº¥t thÆ°á»ng?
* CÃ¡c cá»•ng nháº¡y cáº£m (nhÆ° 3306 - MySQL) Ä‘ang má»Ÿ ra ngoÃ i internet?


* **Lá»£i Ã­ch:** GiÃºp Admin cÃ³ cÃ¡i nhÃ¬n tá»•ng thá»ƒ vá» "sá»©c khá»e" server trong 5 giÃ¢y.

---

### ğŸ’¡ Má»™t chi tiáº¿t nhá» vá» UX (Giao diá»‡n ngÆ°á»i dÃ¹ng CLI)

Äá»ƒ báº£n 2.1 trÃ´ng tháº­t sá»± "xá»‹n", báº¡n nÃªn cÃ¢n nháº¯c sá»­ dá»¥ng **Tab Completion**.

> Khi ngÆ°á»i dÃ¹ng gÃµ `panda website delete [Tab]`, nÃ³ sáº½ tá»± Ä‘á»™ng hiá»‡n danh sÃ¡ch cÃ¡c domain Ä‘ang cÃ³ trÃªn server Ä‘á»ƒ há» chá»n. Äiá»u nÃ y trÃ¡nh viá»‡c gÃµ sai tÃªn miá»n vÃ  táº¡o cáº£m giÃ¡c script ráº¥t "thÃ´ng minh".

### ğŸ“‹ TÃ³m táº¯t cÃ¡c "Quick Wins" cho báº£n 2.2.1:

1. **ThÃ´ng minh hÃ³a lá»‡nh Fix Permission** (Theo framework).
2. **Tá»± Ä‘á»™ng hÃ³a Reverse Proxy cho Docker.**
3. **Cáº£nh bÃ¡o Telegram khi SSL/Backup cÃ³ váº¥n Ä‘á».**
4. **Bá»• sung "Panda Doctor" Ä‘á»ƒ kiá»ƒm tra lá»—i há»‡ thá»‘ng.**